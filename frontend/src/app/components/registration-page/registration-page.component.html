<div class="centered-container">
    <h1>Advanced Media<br>Library</h1>
    <h3>Sign Up Form</h3>
    <p class="small-text"><i>please fill out the form below</i></p>

    <!-- Error Message -->
    <div class="error-banner" *ngIf="registrationError">
        {{ registrationError }}
    </div>

    <form class="add-form" (ngSubmit)="handleSubmit($event)">
        <div class="form-control">
            <label for="first-name">*First Name: </label>
            <input 
                type="text" 
                name="first_name" 
                id="first-name" 
                placeholder="First Name" 
                [(ngModel)]="formData.first_name" 
                (ngModelChange)="onFieldChange('first_name', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['first_name']">{{ fieldErrors['first_name'] }}</div>
        </div>

        <div class="form-control">
            <label for="last-name">*Last Name: </label>
            <input 
                type="text" 
                name="last_name" 
                id="last-name" 
                placeholder="Last Name" 
                [(ngModel)]="formData.last_name" 
                (ngModelChange)="onFieldChange('last_name', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['last_name']">{{ fieldErrors['last_name'] }}</div>
        </div>

        <div class="form-control">
            <label for="dob">*Date of Birth: </label>
            <input 
                type="date" 
                name="date_of_birth" 
                id="dob" 
                [(ngModel)]="formData.date_of_birth" 
                (ngModelChange)="onFieldChange('date_of_birth', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['date_of_birth']">{{ fieldErrors['date_of_birth'] }}</div>
        </div>

        <div class="form-control">
            <label for="email">*Email: </label>
            <input 
                type="email" 
                name="email" 
                id="email" 
                placeholder="Email" 
                [(ngModel)]="formData.email" 
                (ngModelChange)="onFieldChange('email', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['email']">{{ fieldErrors['email'] }}</div>
        </div>

        <div class="form-control">
            <label for="street">*Address: </label>
            <input 
                type="text" 
                name="address" 
                id="street" 
                placeholder="Street Address" 
                [(ngModel)]="formData.address" 
                (ngModelChange)="onFieldChange('address', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['address']">{{ fieldErrors['address'] }}</div>
        </div>

        <div class="form-control">
            <label for="postal-code">*Postal Code: </label>
            <input 
                type="text" 
                name="post_code"
                id="postal-code" 
                placeholder="Postal Code" 
                [(ngModel)]="formData.post_code" 
                (ngModelChange)="onFieldChange('post_code', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['post_code']">{{ fieldErrors['post_code'] }}</div>
        </div>

        <div class="form-control">
            <label for="password">*Password: </label>
            <input 
                type="password" 
                name="password" 
                id="password" 
                placeholder="Password" 
                [(ngModel)]="formData.password" 
                (ngModelChange)="onFieldChange('password', $event)"
                required>
            <div class="field-error" *ngIf="fieldErrors['password']">{{ fieldErrors['password'] }}</div>
        </div>

        <div class="form-control">
            <label for="confirm-password">*Confirm Password: </label>
            <input 
                type="password" 
                name="confirm-password" 
                id="confirm-password" 
                placeholder="Confirm Password" 
                [(ngModel)]="confirmPassword" 
                required>
            <div class="field-error" *ngIf="passwordError">{{ passwordError }}</div>
        </div>

        <button type="submit" class="btn">Sign Up</button>
    </form>

    <p class="route">Already have an Account? <a routerLink="/">Sign in</a></p>
</div>

<!-- Success Popup -->
<div class="success-popup" *ngIf="showSuccessPopup">
    <div class="popup-content">
        <h3>Registration Successful!</h3>
        <p>Redirecting to login page...</p>
    </div>
</div>